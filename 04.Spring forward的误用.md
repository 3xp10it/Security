#04.Spring forward的误用

##4.1 All Input is Evil
  ___不要信任用户输入___，这是防御性编程里的法则之一。在实际的开发实践中，我们务必假设用户的输入都是恶意的，在程序处理过程中一定要对用户输入的数据进行检查，否则，程序可能会脱离我们预定的逻辑轨道运行。这很容易让恶意用户（攻击者）发起攻击并入侵系统，从而造成不必要的损失。
  
  例如下列漏洞都是没有对用户的输入进行足够的安全检查从而引发的漏洞：
  
  * XSS: 跨站点脚本攻击
  * SQL Inject: SQL注入
  * 上传文件漏洞
  * 下载文件漏洞
  * ......

##4.2 String Return Type of Controller in Spring MVC
  
  Spring MVC是Java非常流行的Web框架之一，在Java Web开发中，几乎到了不可或缺的地步。Spring MVC为我们封装了很多底层的实现，从而让Javaer使用起来简单便捷。
  
  但是即使再优秀的框架，如果没有防御性编程的意识，那么很容易引发各式各样的漏洞，甚至更多的情况下是由于程序员的__小聪明___而导致的漏洞。
  
  描述这样一个应用场景：security路径下有0.jsp...9.jsp十个jsp页面。某程序员为了减少代码量，可能会这样写：

```
@RequestMapping("/security/{path}")
public String process(@RequestParam("path") String path) {
  return path;
}
```
  在正常情况下，url与请求页面的映射如下：
  http://localhost:/security/1  -->  1.jsp
  http://localhost:/security/2  -->  2.jsp
  
  

###4.2.1 示例一

```java
@RequestMapping("/security/process")
public String process(@RequestParam("path") String path) {
  return path;
}
```

###4.2.2 示例二

```java
@RequestMapping("/security/{path}")
public String process(@PathVariable("path") String path) {
  return path;
}
```

##4.3 Vulnerability

###4.3.1 

URL:http://localhost/security/process?path=forward:/security/others

URL:http://localhost/security/forward:/security/others

###4.3.2

##4.4 Fix Up

##4.5 总结
