#12.路径遍历漏洞

  这是开发人员在实现下载功能的时候很容易引入的一个漏洞。我曾经利用该漏洞渗透两个系统，纯手工，前后不到十分钟就把整个系统擒下了。这应该引起开发人员的注意，而实际上却没几开发人员有意识去避免这些系统漏洞的产生。
  
  以下这段代码用于实现文件下载，当然，这段代码是有严重漏洞的。（希望你开发的系统中没有类似的实现）
  
```java
String fileName = request.getParameter("file");
File file = new File("C://download/" + fileName);

int len = 0;
byte[] buffer = new byte[1024 * 4];
InputStream input = new FileInputStream(file);
while ((len = input.read(buffer)) != -1) {
	response.getOutputStream().write(buffer, 0, len);
}

response.getOutputStream().flush();
input.close();
```

