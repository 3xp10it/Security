#13.路径遍历漏洞二
  
  上一篇提过，下载或上传处理不当很容易造成任意文件下载漏洞和任意路径文件上传漏洞。
  
  其实，坑不仅仅只有这个。如果以下这些坑你没意识去主动避免，那么很有可能哪一天就掉进去了。

##13.1 绕开后缀判断

```java
// 请求路径：http://example.com?name=github.jsp%00.jpg
String name = request.getParameter("name");

if (name.matches(".*\\.jpg")) {
	File file = new File(name);
	file.createNewFile();

	System.out.println("规范路径 : " + file.getCanonicalPath());
}
```

In many operating systems, null bytes %00 can be injected to terminate the filename. For example, sending a parameter like:

http://example.com?name=github.jsp%00.jpg

will result in the Java application seeing a string that ends with ".jpg" and the operating system will see a file that ends in ".jsp". Attackers may use this trick to bypass validation routines.

##13.2 远程文件包含

##13.3 绝对路径遍历

##13.4 



## 参考资料
 * https://www.owasp.org/index.php/Path_Traversal
 * http://www.w3schools.com/tags/ref_urlencode.asp
 * https://www.owasp.org/index.php/File_System#Path_traversal
